<!DOCTYPE html><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta charset="utf-8"/>
  <meta id="repository-name" content="github.com/crystal-lang/crystal"/>
  <link href="css/style.css" rel="stylesheet" type="text/css"/>
  
  <a class="dashingAutolink" name="autolink-132"></a><a class="dashAnchor" name="//apple_ref/cpp/Class/Base64%20-%20github.com%2Fcrystal-lang%2Fcrystal"></a><title>Base64 - github.com/crystal-lang/crystal</title>
</head>
<body>



<div id="main-content">
<h1 class="type-name">

  <span class="kind">module</span> Base64

</h1>





  <h2>Overview</h2>

  <p>The Base64 module provides for the encoding (<code><a href="Base64.html#encode%28data%2Cio%3AIO%29-instance-method">#encode</a></code>, <code><a href="Base64.html#strict_encode%28data%2Cio%3AIO%29-instance-method">#strict_encode</a></code>,
<code><a href="Base64.html#urlsafe_encode%28data%2Cio%3AIO%29-instance-method">#urlsafe_encode</a></code>) and decoding (<code><a href="Base64.html#decode%28data%2Cio%3AIO%29-instance-method">#decode</a></code>)
of binary data using a Base64 representation.</p>

<h3>Example</h3>

<p>A simple encoding and decoding.</p>

<pre><code><span class="k">require</span> <span class="s">&#34;base64&#34;</span>

enc <span class="o">=</span> <span class="t">Base64</span>.encode(<span class="s">&#34;Send reinforcements&#34;</span>) <span class="c"># =&gt; &#34;U2VuZCByZWluZm9yY2VtZW50cw==\n&#34;</span>
plain <span class="o">=</span> <span class="t">Base64</span>.decode_string(enc)          <span class="c"># =&gt; &#34;Send reinforcements&#34;</span></code></pre>

<p>The purpose of using base64 to encode data is that it translates any binary
data into purely printable characters.</p>







  <h2>Extended Modules</h2>
  <ul class="other-types-list">
  
    <li class="other-type"><a href="Base64.html">Base64</a></li>
  
  </ul>








  <h2>Defined in:</h2>
  
    
      <a href="https://github.com/crystal-lang/crystal/blob/d1f8c42f82d3e6491cb7b3b536984c19a51b94ba/src/base64.cr#L18" target="_blank">base64.cr</a>
    
    <br/>
  







  <h2>Instance Method Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#decode%28data%2Cio%3AIO%29-instance-method" class="signature"><strong>#decode</strong>(data, io : IO)</a>
        
          <div class="summary"><p>Write the Base64-decoded version of <em>data</em> to <em>io</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#decode%28data%29%3ABytes-instance-method" class="signature"><strong>#decode</strong>(data) : Bytes</a>
        
          <div class="summary"><p>Returns the Base64-decoded version of <em>data</em> as a <code><a href="Bytes.html">Bytes</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#decode_string%28data%29%3AString-instance-method" class="signature"><strong>#decode_string</strong>(data) : String</a>
        
          <div class="summary"><p>Returns the Base64-decoded version of <em>data</em> as a string.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#encode%28data%2Cio%3AIO%29-instance-method" class="signature"><strong>#encode</strong>(data, io : IO)</a>
        
          <div class="summary"><p>Write the Base64-encoded version of <em>data</em> to <em>io</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#encode%28data%29%3AString-instance-method" class="signature"><strong>#encode</strong>(data) : String</a>
        
          <div class="summary"><p>Returns the Base64-encoded version of <em>data</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#strict_encode%28data%2Cio%3AIO%29-instance-method" class="signature"><strong>#strict_encode</strong>(data, io : IO)</a>
        
          <div class="summary"><p>Write the Base64-encoded version of <em>data</em> with no newlines to <em>io</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#strict_encode%28data%29%3AString-instance-method" class="signature"><strong>#strict_encode</strong>(data) : String</a>
        
          <div class="summary"><p>Returns the Base64-encoded version of <em>data</em> with no newlines.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#urlsafe_encode%28data%2Cio%3AIO%29-instance-method" class="signature"><strong>#urlsafe_encode</strong>(data, io : IO)</a>
        
          <div class="summary"><p>Write the Base64-encoded version of <em>data</em> using a urlsafe alphabet to <em>io</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#urlsafe_encode%28data%2Cpadding%3Dtrue%29%3AString-instance-method" class="signature"><strong>#urlsafe_encode</strong>(data, padding = <span class="n">true</span>) : String</a>
        
          <div class="summary"><p>Returns the Base64-encoded version of <em>data</em> using a urlsafe alphabet.</p></div>
        
      </li>
    
  </ul>



  <h2>Macro Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#next_decoded_value-macro" class="signature"><strong>next_decoded_value</strong></a>
        
          <div class="summary"><p><span class="flag orange">TODO</span>  uncomment if release &#39;private macro&#39; private macro next_decoded_value :nodoc:</p></div>
        
      </li>
    
  </ul>



<div class="methods-inherited">
  
</div>




  <h2>Instance Method Detail</h2>
  
    <div class="entry-detail" id="decode(data,io:IO)-instance-method">
      <a class="dashingAutolink" name="autolink-133"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20decode%28data%2C%20io%20%3A%20IO%29"></a><div class="signature">
        
        def <strong>decode</strong>(data, io : <a href="IO.html">IO</a>)

        
      </div>
      
        <div class="doc"><p>Write the Base64-decoded version of <em>data</em> to <em>io</em>.
This will decode either the normal or urlsafe alphabets.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/d1f8c42f82d3e6491cb7b3b536984c19a51b94ba/src/base64.cr#L171" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="decode(data):Bytes-instance-method">
      <a class="dashingAutolink" name="autolink-134"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20decode%28data%29%20%3A%20Bytes"></a><div class="signature">
        
        def <strong>decode</strong>(data) : <a href="Bytes.html">Bytes</a>

        
      </div>
      
        <div class="doc"><p>Returns the Base64-decoded version of <em>data</em> as a <code><a href="Bytes.html">Bytes</a></code>.
This will decode either the normal or urlsafe alphabets.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/d1f8c42f82d3e6491cb7b3b536984c19a51b94ba/src/base64.cr#L161" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="decode_string(data):String-instance-method">
      <a class="dashingAutolink" name="autolink-135"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20decode_string%28data%29%20%3A%20String"></a><div class="signature">
        
        def <strong>decode_string</strong>(data) : <a href="String.html">String</a>

        
      </div>
      
        <div class="doc"><p>Returns the Base64-decoded version of <em>data</em> as a string.
If the data doesn&#39;t decode to a valid UTF8 string,
<em>InvalidByteSequenceError</em> will be raised.
This will decode either the normal or urlsafe alphabets.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/d1f8c42f82d3e6491cb7b3b536984c19a51b94ba/src/base64.cr#L185" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="encode(data,io:IO)-instance-method">
      <a class="dashingAutolink" name="autolink-136"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20encode%28data%2C%20io%20%3A%20IO%29"></a><div class="signature">
        
        def <strong>encode</strong>(data, io : <a href="IO.html">IO</a>)

        
      </div>
      
        <div class="doc">
<p>Write the Base64-encoded version of <em>data</em> to <em>io</em>.
This method complies with RFC 2045.
Line feeds are added to every 60 encoded characters.</p>

<pre><code><span class="t">Base64</span>.encode(<span class="s">&#34;Now is the time for all good coders\nto learn Crystal&#34;</span>, <span class="t">STDOUT</span>)</code></pre>
</div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/d1f8c42f82d3e6491cb7b3b536984c19a51b94ba/src/base64.cr#L61" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="encode(data):String-instance-method">
      <a class="dashingAutolink" name="autolink-137"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20encode%28data%29%20%3A%20String"></a><div class="signature">
        
        def <strong>encode</strong>(data) : <a href="String.html">String</a>

        
      </div>
      
        <div class="doc">
<p>Returns the Base64-encoded version of <em>data</em>.
This method complies with RFC 2045.
Line feeds are added to every 60 encoded characters.</p>

<pre><code>puts <span class="t">Base64</span>.encode(<span class="s">&#34;Now is the time for all good coders\nto learn Crystal&#34;</span>)</code></pre>

<p>Generates:</p>

<pre><code class="language-text">Tm93IGlzIHRoZSB0aW1lIGZvciBhbGwgZ29vZCBjb2RlcnMKdG8gbGVhcm4g
Q3J5c3RhbA==</code></pre>
</div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/d1f8c42f82d3e6491cb7b3b536984c19a51b94ba/src/base64.cr#L44" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="strict_encode(data,io:IO)-instance-method">
      <a class="dashingAutolink" name="autolink-138"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20strict_encode%28data%2C%20io%20%3A%20IO%29"></a><div class="signature">
        
        def <strong>strict_encode</strong>(data, io : <a href="IO.html">IO</a>)

        
      </div>
      
        <div class="doc">
<p>Write the Base64-encoded version of <em>data</em> with no newlines to <em>io</em>.
This method complies with RFC 4648.</p>

<pre><code><span class="t">Base64</span>.strict_encode(<span class="s">&#34;Now is the time for all good coders\nto learn Crystal&#34;</span>, <span class="t">STDOUT</span>)</code></pre>
</div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/d1f8c42f82d3e6491cb7b3b536984c19a51b94ba/src/base64.cr#L118" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="strict_encode(data):String-instance-method">
      <a class="dashingAutolink" name="autolink-139"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20strict_encode%28data%29%20%3A%20String"></a><div class="signature">
        
        def <strong>strict_encode</strong>(data) : <a href="String.html">String</a>

        
      </div>
      
        <div class="doc">
<p>Returns the Base64-encoded version of <em>data</em> with no newlines.
This method complies with RFC 4648.</p>

<pre><code>puts <span class="t">Base64</span>.strict_encode(<span class="s">&#34;Now is the time for all good coders\nto learn Crystal&#34;</span>)</code></pre>

<p>Generates:</p>

<pre><code class="language-text">Tm93IGlzIHRoZSB0aW1lIGZvciBhbGwgZ29vZCBjb2RlcnMKdG8gbGVhcm4gQ3J5c3RhbA==</code></pre>
</div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/d1f8c42f82d3e6491cb7b3b536984c19a51b94ba/src/base64.cr#L98" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="urlsafe_encode(data,io:IO)-instance-method">
      <a class="dashingAutolink" name="autolink-140"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20urlsafe_encode%28data%2C%20io%20%3A%20IO%29"></a><div class="signature">
        
        def <strong>urlsafe_encode</strong>(data, io : <a href="IO.html">IO</a>)

        
      </div>
      
        <div class="doc">
<p>Write the Base64-encoded version of <em>data</em> using a urlsafe alphabet to <em>io</em>.
This method complies with &#34;Base 64 Encoding with URL and Filename Safe
Alphabet&#34; in RFC 4648.</p>

<p>The alphabet uses &#39;-&#39; instead of &#39;+&#39; and &#39;_&#39; instead of &#39;/&#39;.</p>
</div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/d1f8c42f82d3e6491cb7b3b536984c19a51b94ba/src/base64.cr#L155" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="urlsafe_encode(data,padding=true):String-instance-method">
      <a class="dashingAutolink" name="autolink-141"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20urlsafe_encode%28data%2C%20padding%20%3D%20true%29%20%3A%20String"></a><div class="signature">
        
        def <strong>urlsafe_encode</strong>(data, padding = <span class="n">true</span>) : <a href="String.html">String</a>

        
      </div>
      
        <div class="doc">
<p>Returns the Base64-encoded version of <em>data</em> using a urlsafe alphabet.
This method complies with &#34;Base 64 Encoding with URL and Filename Safe
Alphabet&#34; in RFC 4648.</p>

<p>The alphabet uses &#39;-&#39; instead of &#39;+&#39; and &#39;_&#39; instead of &#39;/&#39;.</p>

<p>The <em>padding</em> parameter defaults to true. When false, enough <code>=</code> characters
are not added to make the output divisible by 4.</p>
</div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/d1f8c42f82d3e6491cb7b3b536984c19a51b94ba/src/base64.cr#L140" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>Macro Detail</h2>
  
    <div class="entry-detail" id="next_decoded_value-macro">
      <a class="dashingAutolink" name="autolink-142"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/macro%20next_decoded_value"></a><div class="signature">
        
        macro <strong>next_decoded_value</strong>

        
      </div>
      
        <div class="doc"><p><span class="flag orange">TODO</span>  uncomment if release &#39;private macro&#39;
private macro next_decoded_value
:nodoc:</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/d1f8c42f82d3e6491cb7b3b536984c19a51b94ba/src/base64.cr#L280" target="_blank">View source</a>]
        
      </div>
    </div>
  


</div>



</body></html>