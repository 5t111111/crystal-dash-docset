<!DOCTYPE html><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta charset="utf-8"/>
  <meta id="repository-name" content="github.com/crystal-lang/crystal"/>
  <link href="css/style.css" rel="stylesheet" type="text/css"/>
  
  <a class="dashingAutolink" name="autolink-1035"></a><a class="dashAnchor" name="//apple_ref/cpp/Class/ENV%20-%20github.com%2Fcrystal-lang%2Fcrystal"></a><title>ENV - github.com/crystal-lang/crystal</title>
</head>
<body>



<div id="main-content">
<h1 class="type-name">

  <span class="kind">module</span> ENV

</h1>





  <h2>Overview</h2>

  <p><code><a href="ENV.html">ENV</a></code> is a hash-like accessor for environment variables.</p>

<p><strong>Note:</strong> All keys and values are strings. You must take care to cast other types
at runtime, e.g. integer port numbers.</p>

<h3>Example</h3>

<pre><code><span class="c"># Set env var PORT to a default if not already set</span>
<span class="t">ENV</span>[<span class="s">&#34;PORT&#34;</span>] ||= <span class="s">&#34;5000&#34;</span>
<span class="c"># Later use that env var.</span>
puts <span class="t">ENV</span>[<span class="s">&#34;PORT&#34;</span>].to_i</code></pre>







  <h2>Extended Modules</h2>
  <ul class="other-types-list">
  
    <li class="other-type"><a href="Enumerable.html">Enumerable(::Tuple(String, String))</a></li>
  
  </ul>








  <h2>Defined in:</h2>
  
    
      <a href="https://github.com/crystal-lang/crystal/blob/9bb0ada8cf0d77d6b3dd17c99ff92bea32083325/src/env.cr#L14" target="_blank">env.cr</a>
    
    <br/>
  





  <h2>Class Method Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#%5B%5D%28key%3AString%29%3AString-class-method" class="signature"><strong>.[]</strong>(key : String) : String</a>
        
          <div class="summary"><p>Retrieves the value for environment variable named <code>key</code> as a <code><a href="String.html">String</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#%5B%5D%3D%28key%3AString%2Cvalue%3AString%7CNil%29-class-method" class="signature"><strong>.[]=</strong>(key : String, value : String | Nil)</a>
        
          <div class="summary"><p>Sets the value for environment variable named <em>key</em> as <em>value</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#%5B%5D%3F%28key%3AString%29%3AString%7CNil-class-method" class="signature"><strong>.[]?</strong>(key : String) : String | Nil</a>
        
          <div class="summary"><p>Retrieves the value for environment variable named <em>key</em> as a <code><a href="String.html">String</a>?</code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#clear-class-method" class="signature"><strong>.clear</strong></a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#delete%28key%3AString%29%3AString%7CNil-class-method" class="signature"><strong>.delete</strong>(key : String) : String | Nil</a>
        
          <div class="summary"><p>Removes the environment variable named <em>key</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#each%28%26block%29-class-method" class="signature"><strong>.each</strong>(&amp;block)</a>
        
          <div class="summary"><p>Iterates over all <code>KEY=VALUE</code> pairs of environment variables, yielding both the <code>key</code> and <code>value</code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#fetch%28key%3AString%2C%26block%3AString-%3EString%7CNil%7CNoReturn%29-class-method" class="signature"><strong>.fetch</strong>(key : String, &amp;block : String -&gt; String | Nil | NoReturn)</a>
        
          <div class="summary"><p>Retrieves a value corresponding to a key.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#fetch%28key%29%3AString-class-method" class="signature"><strong>.fetch</strong>(key) : String</a>
        
          <div class="summary"><p>Retrieves a value corresponding to the given <em>key</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#fetch%28key%2Cdefault%29-class-method" class="signature"><strong>.fetch</strong>(key, default)</a>
        
          <div class="summary"><p>Retrieves a value corresponding to the given <em>key</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#has_key%3F%28key%3AString%29%3ABool-class-method" class="signature"><strong>.has_key?</strong>(key : String) : Bool</a>
        
          <div class="summary"><p>Returns <code>true</code> if the environment variable named <em>key</em> exists and <code>false</code> if it doesn&#39;t.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#inspect%28io%29-class-method" class="signature"><strong>.inspect</strong>(io)</a>
        
          <div class="summary"><p>Writes the contents of the environment to <em>io</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#keys%3AArray%28String%29-class-method" class="signature"><strong>.keys</strong> : Array(String)</a>
        
          <div class="summary"><p>Returns an array of all the environment variable names.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#values%3AArray%28String%29-class-method" class="signature"><strong>.values</strong> : Array(String)</a>
        
          <div class="summary"><p>Returns an array of all the environment variable values.</p></div>
        
      </li>
    
  </ul>







<div class="methods-inherited">
  
</div>


  <h2>Class Method Detail</h2>
  
    <div class="entry-detail" id="[](key:String):String-class-method">
      <a class="dashingAutolink" name="autolink-1022"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20self.%5B%5D%28key%20%3A%20String%29%20%3A%20String"></a><div class="signature">
        
        def self.<strong>[]</strong>(key : <a href="String.html">String</a>) : <a href="String.html">String</a>

        
      </div>
      
        <div class="doc"><p>Retrieves the value for environment variable named <code>key</code> as a <code><a href="String.html">String</a></code>.
Raises <code><a href="KeyError.html">KeyError</a></code> if the named variable does not exist.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/9bb0ada8cf0d77d6b3dd17c99ff92bea32083325/src/env.cr#L21" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="[]=(key:String,value:String|Nil)-class-method">
      <a class="dashingAutolink" name="autolink-1023"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20self.%5B%5D%3D%28key%20%3A%20String%2C%20value%20%3A%20String%20%7C%20Nil%29"></a><div class="signature">
        
        def self.<strong>[]=</strong>(key : <a href="String.html">String</a>, value : <a href="String.html">String</a> | <a href="Nil.html">Nil</a>)

        
      </div>
      
        <div class="doc"><p>Sets the value for environment variable named <em>key</em> as <em>value</em>.
Overwrites existing environment variable if already present.
Returns <code>value</code> if successful, otherwise raises an exception.
If <code>value</code> is nil, the environment variable is deleted.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/9bb0ada8cf0d77d6b3dd17c99ff92bea32083325/src/env.cr#L35" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="[]?(key:String):String|Nil-class-method">
      <a class="dashingAutolink" name="autolink-1024"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20self.%5B%5D%3F%28key%20%3A%20String%29%20%3A%20String%20%7C%20Nil"></a><div class="signature">
        
        def self.<strong>[]?</strong>(key : <a href="String.html">String</a>) : <a href="String.html">String</a> | <a href="Nil.html">Nil</a>

        
      </div>
      
        <div class="doc"><p>Retrieves the value for environment variable named <em>key</em> as a <code><a href="String.html">String</a>?</code>.
Returns <code>nil</code> if the named variable does not exist.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/9bb0ada8cf0d77d6b3dd17c99ff92bea32083325/src/env.cr#L27" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="clear-class-method">
      <a class="dashingAutolink" name="autolink-1025"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20self.clear"></a><div class="signature">
        
        def self.<strong>clear</strong>

        
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/9bb0ada8cf0d77d6b3dd17c99ff92bea32083325/src/env.cr#L125" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="delete(key:String):String|Nil-class-method">
      <a class="dashingAutolink" name="autolink-1026"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20self.delete%28key%20%3A%20String%29%20%3A%20String%20%7C%20Nil"></a><div class="signature">
        
        def self.<strong>delete</strong>(key : <a href="String.html">String</a>) : <a href="String.html">String</a> | <a href="Nil.html">Nil</a>

        
      </div>
      
        <div class="doc"><p>Removes the environment variable named <em>key</em>. Returns the previous value if
the environment variable existed, otherwise returns <code>nil</code>.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/9bb0ada8cf0d77d6b3dd17c99ff92bea32083325/src/env.cr#L90" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="each(&amp;block)-class-method">
      <a class="dashingAutolink" name="autolink-1027"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20self.each%28%26block%29"></a><div class="signature">
        
        def self.<strong>each</strong>(&amp;block)

        
      </div>
      
        <div class="doc">
<p>Iterates over all <code>KEY=VALUE</code> pairs of environment variables, yielding both
the <code>key</code> and <code>value</code>.</p>

<pre><code><span class="t">ENV</span>.each <span class="k">do</span> <span class="o">|</span>key, value<span class="o">|</span>
  puts <span class="s">&#34;</span><span class="i">#{</span>key<span class="s"><span class="i">}</span> =&gt; </span><span class="i">#{</span>value<span class="s"><span class="i">}</span>&#34;</span>
<span class="k">end</span></code></pre>
</div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/9bb0ada8cf0d77d6b3dd17c99ff92bea32083325/src/env.cr#L105" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="fetch(key:String,&amp;block:String-&gt;String|Nil|NoReturn)-class-method">
      <a class="dashingAutolink" name="autolink-1028"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20self.fetch%28key%20%3A%20String%2C%20%26block%20%3A%20String%20-%3E%20String%20%7C%20Nil%20%7C%20NoReturn%29"></a><div class="signature">
        
        def self.<strong>fetch</strong>(key : <a href="String.html">String</a>, &amp;block : <a href="String.html">String</a> -&gt; <a href="String.html">String</a> | <a href="Nil.html">Nil</a> | NoReturn)

        
      </div>
      
        <div class="doc"><p>Retrieves a value corresponding to a key. Return the value of the block if
the key does not exist.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/9bb0ada8cf0d77d6b3dd17c99ff92bea32083325/src/env.cr#L68" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="fetch(key):String-class-method">
      <a class="dashingAutolink" name="autolink-1029"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20self.fetch%28key%29%20%3A%20String"></a><div class="signature">
        
        def self.<strong>fetch</strong>(key) : <a href="String.html">String</a>

        
      </div>
      
        <div class="doc"><p>Retrieves a value corresponding to the given <em>key</em>. Raises a <code><a href="KeyError.html">KeyError</a></code> exception if the
key does not exist.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/9bb0ada8cf0d77d6b3dd17c99ff92bea32083325/src/env.cr#L54" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="fetch(key,default)-class-method">
      <a class="dashingAutolink" name="autolink-1030"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20self.fetch%28key%2C%20default%29"></a><div class="signature">
        
        def self.<strong>fetch</strong>(key, default)

        
      </div>
      
        <div class="doc"><p>Retrieves a value corresponding to the given <em>key</em>. Return the second argument&#39;s value
if the key does not exist.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/9bb0ada8cf0d77d6b3dd17c99ff92bea32083325/src/env.cr#L62" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="has_key?(key:String):Bool-class-method">
      <a class="dashingAutolink" name="autolink-1031"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20self.has_key%3F%28key%20%3A%20String%29%20%3A%20Bool"></a><div class="signature">
        
        def self.<strong>has_key?</strong>(key : <a href="String.html">String</a>) : <a href="Bool.html">Bool</a>

        
      </div>
      
        <div class="doc"><p>Returns <code>true</code> if the environment variable named <em>key</em> exists and <code>false</code>
if it doesn&#39;t.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/9bb0ada8cf0d77d6b3dd17c99ff92bea32083325/src/env.cr#L48" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="inspect(io)-class-method">
      <a class="dashingAutolink" name="autolink-1032"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20self.inspect%28io%29"></a><div class="signature">
        
        def self.<strong>inspect</strong>(io)

        
      </div>
      
        <div class="doc"><p>Writes the contents of the environment to <em>io</em>.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/9bb0ada8cf0d77d6b3dd17c99ff92bea32083325/src/env.cr#L130" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="keys:Array(String)-class-method">
      <a class="dashingAutolink" name="autolink-1033"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20self.keys%20%3A%20Array%28String%29"></a><div class="signature">
        
        def self.<strong>keys</strong> : <a href="Array.html">Array</a>(<a href="String.html">String</a>)

        
      </div>
      
        <div class="doc"><p>Returns an array of all the environment variable names.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/9bb0ada8cf0d77d6b3dd17c99ff92bea32083325/src/env.cr#L75" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="values:Array(String)-class-method">
      <a class="dashingAutolink" name="autolink-1034"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20self.values%20%3A%20Array%28String%29"></a><div class="signature">
        
        def self.<strong>values</strong> : <a href="Array.html">Array</a>(<a href="String.html">String</a>)

        
      </div>
      
        <div class="doc"><p>Returns an array of all the environment variable values.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/9bb0ada8cf0d77d6b3dd17c99ff92bea32083325/src/env.cr#L82" target="_blank">View source</a>]
        
      </div>
    </div>
  






</div>



</body></html>