<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta charset="utf-8"/>
  <meta id="repository-name" content="github.com/crystal-lang/crystal"/>
  <link href="../../css/style.css" rel="stylesheet" type="text/css"/>
  
  <a class="dashingAutolink" name="autolink-1967"></a><a class="dashAnchor" name="//apple_ref/cpp/Class/Float%3A%3APrinter%3A%3ACachedPowers%20-%20github.com%2Fcrystal-lang%2Fcrystal"></a><title>Float::Printer::CachedPowers - github.com/crystal-lang/crystal</title>
</head>
<body>



<div id="main-content">
<h1 class="type-name">

  <span class="kind">module</span> Float::Printer::CachedPowers

</h1>


















  <h2>Defined in:</h2>
  
    
      <a href="https://github.com/crystal-lang/crystal/blob/3c3d3e2b830e81de0aa39b7af0cd6f82f759c410/src/float/printer/cached_powers.cr#L30" target="_blank">float/printer/cached_powers.cr</a>
    
    <br/>
  



  
    <h2>Constant Summary</h2>
  
  <dl>
    
      <dt class="entry-const" id="CACHED_EXP_STEP">
        <strong>CACHED_EXP_STEP</strong> = <code><span class="n">8</span></code>
      </dt>
      
      <dd class="entry-const-doc">
        <p>Not all powers of ten are cached. The decimal exponent of two neighboring
cached numbers will differ by <code><a href="../../Float/Printer/CachedPowers.html#CACHED_EXP_STEP">CACHED_EXP_STEP</a></code></p>
      </dd>
      
    
      <dt class="entry-const" id="CACHED_POWER_OFFSET">
        <strong>CACHED_POWER_OFFSET</strong> = <code><span class="n">348</span></code>
      </dt>
      
    
      <dt class="entry-const" id="D_1_LOG2_10">
        <strong>D_1_LOG2_10</strong> = <code><span class="n">0.30102999566398114</span></code>
      </dt>
      
    
      <dt class="entry-const" id="MAX_CACHED_EXP">
        <strong>MAX_CACHED_EXP</strong> = <code><span class="n">340</span></code>
      </dt>
      
    
      <dt class="entry-const" id="MAX_TARGET_EXP">
        <strong>MAX_TARGET_EXP</strong> = <code><span class="n">-32</span></code>
      </dt>
      
    
      <dt class="entry-const" id="MIN_CACHED_EXP">
        <strong>MIN_CACHED_EXP</strong> = <code><span class="n">-348</span></code>
      </dt>
      
    
      <dt class="entry-const" id="MIN_TARGET_EXP">
        <strong>MIN_TARGET_EXP</strong> = <code><span class="n">-60</span></code>
      </dt>
      
      <dd class="entry-const-doc">
        <p>The minimal and maximal target exponent define the range of w&#39;s binary
exponent, where &#39;w&#39; is the result of multiplying the input by a cached power
of ten.</p>

<p>A different range might be chosen on a different platform, to optimize digit
generation, but a smaller range requires more powers of ten to be cached.</p>
      </dd>
      
    
      <dt class="entry-const" id="Pow10Cache">
        <strong>Pow10Cache</strong> = <code>{<span class="n">0</span>, <span class="n">1</span>, <span class="n">10</span>, <span class="n">100</span>, <span class="n">1000</span>, <span class="n">10000</span>, <span class="n">100000</span>, <span class="n">1000000</span>, <span class="n">10000000</span>, <span class="n">100000000</span>, <span class="n">1000000000</span>}</code>
      </dt>
      
    
      <dt class="entry-const" id="PowCache">
        <strong>PowCache</strong> = <code>[{<span class="n">18054884314459144840_u64</span>, <span class="n">-1220_i16</span>, <span class="n">-348_i16</span>}, {<span class="n">13451937075301367670_u64</span>, <span class="n">-1193_i16</span>, <span class="n">-340_i16</span>}, {<span class="n">10022474136428063862_u64</span>, <span class="n">-1166_i16</span>, <span class="n">-332_i16</span>}, {<span class="n">14934650266808366570_u64</span>, <span class="n">-1140_i16</span>, <span class="n">-324_i16</span>}, {<span class="n">11127181549972568877_u64</span>, <span class="n">-1113_i16</span>, <span class="n">-316_i16</span>}, {<span class="n">16580792590934885855_u64</span>, <span class="n">-1087_i16</span>, <span class="n">-308_i16</span>}, {<span class="n">12353653155963782858_u64</span>, <span class="n">-1060_i16</span>, <span class="n">-300_i16</span>}, {<span class="n">18408377700990114895_u64</span>, <span class="n">-1034_i16</span>, <span class="n">-292_i16</span>}, {<span class="n">13715310171984221708_u64</span>, <span class="n">-1007_i16</span>, <span class="n">-284_i16</span>}, {<span class="n">10218702384817765436_u64</span>, <span class="n">-980_i16</span>, <span class="n">-276_i16</span>}, {<span class="n">15227053142812498563_u64</span>, <span class="n">-954_i16</span>, <span class="n">-268_i16</span>}, {<span class="n">11345038669416679861_u64</span>, <span class="n">-927_i16</span>, <span class="n">-260_i16</span>}, {<span class="n">16905424996341287883_u64</span>, <span class="n">-901_i16</span>, <span class="n">-252_i16</span>}, {<span class="n">12595523146049147757_u64</span>, <span class="n">-874_i16</span>, <span class="n">-244_i16</span>}, {<span class="n">9384396036005875287_u64</span>, <span class="n">-847_i16</span>, <span class="n">-236_i16</span>}, {<span class="n">13983839803942852151_u64</span>, <span class="n">-821_i16</span>, <span class="n">-228_i16</span>}, {<span class="n">10418772551374772303_u64</span>, <span class="n">-794_i16</span>, <span class="n">-220_i16</span>}, {<span class="n">15525180923007089351_u64</span>, <span class="n">-768_i16</span>, <span class="n">-212_i16</span>}, {<span class="n">11567161174868858868_u64</span>, <span class="n">-741_i16</span>, <span class="n">-204_i16</span>}, {<span class="n">17236413322193710309_u64</span>, <span class="n">-715_i16</span>, <span class="n">-196_i16</span>}, {<span class="n">12842128665889583758_u64</span>, <span class="n">-688_i16</span>, <span class="n">-188_i16</span>}, {<span class="n">9568131466127621947_u64</span>, <span class="n">-661_i16</span>, <span class="n">-180_i16</span>}, {<span class="n">14257626930069360058_u64</span>, <span class="n">-635_i16</span>, <span class="n">-172_i16</span>}, {<span class="n">10622759856335341974_u64</span>, <span class="n">-608_i16</span>, <span class="n">-164_i16</span>}, {<span class="n">15829145694278690180_u64</span>, <span class="n">-582_i16</span>, <span class="n">-156_i16</span>}, {<span class="n">11793632577567316726_u64</span>, <span class="n">-555_i16</span>, <span class="n">-148_i16</span>}, {<span class="n">17573882009934360870_u64</span>, <span class="n">-529_i16</span>, <span class="n">-140_i16</span>}, {<span class="n">13093562431584567480_u64</span>, <span class="n">-502_i16</span>, <span class="n">-132_i16</span>}, {<span class="n">9755464219737475723_u64</span>, <span class="n">-475_i16</span>, <span class="n">-124_i16</span>}, {<span class="n">14536774485912137811_u64</span>, <span class="n">-449_i16</span>, <span class="n">-116_i16</span>}, {<span class="n">10830740992659433045_u64</span>, <span class="n">-422_i16</span>, <span class="n">-108_i16</span>}, {<span class="n">16139061738043178685_u64</span>, <span class="n">-396_i16</span>, <span class="n">-100_i16</span>}, {<span class="n">12024538023802026127_u64</span>, <span class="n">-369_i16</span>, <span class="n">-92_i16</span>}, {<span class="n">17917957937422433684_u64</span>, <span class="n">-343_i16</span>, <span class="n">-84_i16</span>}, {<span class="n">13349918974505688015_u64</span>, <span class="n">-316_i16</span>, <span class="n">-76_i16</span>}, {<span class="n">9946464728195732843_u64</span>, <span class="n">-289_i16</span>, <span class="n">-68_i16</span>}, {<span class="n">14821387422376473014_u64</span>, <span class="n">-263_i16</span>, <span class="n">-60_i16</span>}, {<span class="n">11042794154864902060_u64</span>, <span class="n">-236_i16</span>, <span class="n">-52_i16</span>}, {<span class="n">16455045573212060422_u64</span>, <span class="n">-210_i16</span>, <span class="n">-44_i16</span>}, {<span class="n">12259964326927110867_u64</span>, <span class="n">-183_i16</span>, <span class="n">-36_i16</span>}, {<span class="n">18268770466636286478_u64</span>, <span class="n">-157_i16</span>, <span class="n">-28_i16</span>}, {<span class="n">13611294676837538539_u64</span>, <span class="n">-130_i16</span>, <span class="n">-20_i16</span>}, {<span class="n">10141204801825835212_u64</span>, <span class="n">-103_i16</span>, <span class="n">-12_i16</span>}, {<span class="n">15111572745182864684_u64</span>, <span class="n">-77_i16</span>, <span class="n">-4_i16</span>}, {<span class="n">11258999068426240000_u64</span>, <span class="n">-50_i16</span>, <span class="n">4_i16</span>}, {<span class="n">16777216000000000000_u64</span>, <span class="n">-24_i16</span>, <span class="n">12_i16</span>}, {<span class="n">12500000000000000000_u64</span>, <span class="n">3_i16</span>, <span class="n">20_i16</span>}, {<span class="n">9313225746154785156_u64</span>, <span class="n">30_i16</span>, <span class="n">28_i16</span>}, {<span class="n">13877787807814456755_u64</span>, <span class="n">56_i16</span>, <span class="n">36_i16</span>}, {<span class="n">10339757656912845936_u64</span>, <span class="n">83_i16</span>, <span class="n">44_i16</span>}, {<span class="n">15407439555097886824_u64</span>, <span class="n">109_i16</span>, <span class="n">52_i16</span>}, {<span class="n">11479437019748901445_u64</span>, <span class="n">136_i16</span>, <span class="n">60_i16</span>}, {<span class="n">17105694144590052135_u64</span>, <span class="n">162_i16</span>, <span class="n">68_i16</span>}, {<span class="n">12744735289059618216_u64</span>, <span class="n">189_i16</span>, <span class="n">76_i16</span>}, {<span class="n">9495567745759798747_u64</span>, <span class="n">216_i16</span>, <span class="n">84_i16</span>}, {<span class="n">14149498560666738074_u64</span>, <span class="n">242_i16</span>, <span class="n">92_i16</span>}, {<span class="n">10542197943230523224_u64</span>, <span class="n">269_i16</span>, <span class="n">100_i16</span>}, {<span class="n">15709099088952724970_u64</span>, <span class="n">295_i16</span>, <span class="n">108_i16</span>}, {<span class="n">11704190886730495818_u64</span>, <span class="n">322_i16</span>, <span class="n">116_i16</span>}, {<span class="n">17440603504673385349_u64</span>, <span class="n">348_i16</span>, <span class="n">124_i16</span>}, {<span class="n">12994262207056124023_u64</span>, <span class="n">375_i16</span>, <span class="n">132_i16</span>}, {<span class="n">9681479787123295682_u64</span>, <span class="n">402_i16</span>, <span class="n">140_i16</span>}, {<span class="n">14426529090290212157_u64</span>, <span class="n">428_i16</span>, <span class="n">148_i16</span>}, {<span class="n">10748601772107342003_u64</span>, <span class="n">455_i16</span>, <span class="n">156_i16</span>}, {<span class="n">16016664761464807395_u64</span>, <span class="n">481_i16</span>, <span class="n">164_i16</span>}, {<span class="n">11933345169920330789_u64</span>, <span class="n">508_i16</span>, <span class="n">172_i16</span>}, {<span class="n">17782069995880619868_u64</span>, <span class="n">534_i16</span>, <span class="n">180_i16</span>}, {<span class="n">13248674568444952270_u64</span>, <span class="n">561_i16</span>, <span class="n">188_i16</span>}, {<span class="n">9871031767461413346_u64</span>, <span class="n">588_i16</span>, <span class="n">196_i16</span>}, {<span class="n">14708983551653345445_u64</span>, <span class="n">614_i16</span>, <span class="n">204_i16</span>}, {<span class="n">10959046745042015199_u64</span>, <span class="n">641_i16</span>, <span class="n">212_i16</span>}, {<span class="n">16330252207878254650_u64</span>, <span class="n">667_i16</span>, <span class="n">220_i16</span>}, {<span class="n">12166986024289022870_u64</span>, <span class="n">694_i16</span>, <span class="n">228_i16</span>}, {<span class="n">18130221999122236476_u64</span>, <span class="n">720_i16</span>, <span class="n">236_i16</span>}, {<span class="n">13508068024458167312_u64</span>, <span class="n">747_i16</span>, <span class="n">244_i16</span>}, {<span class="n">10064294952495520794_u64</span>, <span class="n">774_i16</span>, <span class="n">252_i16</span>}, {<span class="n">14996968138956309548_u64</span>, <span class="n">800_i16</span>, <span class="n">260_i16</span>}, {<span class="n">11173611982879273257_u64</span>, <span class="n">827_i16</span>, <span class="n">268_i16</span>}, {<span class="n">16649979327439178909_u64</span>, <span class="n">853_i16</span>, <span class="n">276_i16</span>}, {<span class="n">12405201291620119593_u64</span>, <span class="n">880_i16</span>, <span class="n">284_i16</span>}, {<span class="n">9242595204427927429_u64</span>, <span class="n">907_i16</span>, <span class="n">292_i16</span>}, {<span class="n">13772540099066387757_u64</span>, <span class="n">933_i16</span>, <span class="n">300_i16</span>}, {<span class="n">10261342003245940623_u64</span>, <span class="n">960_i16</span>, <span class="n">308_i16</span>}, {<span class="n">15290591125556738113_u64</span>, <span class="n">986_i16</span>, <span class="n">316_i16</span>}, {<span class="n">11392378155556871081_u64</span>, <span class="n">1013_i16</span>, <span class="n">324_i16</span>}, {<span class="n">16975966327722178521_u64</span>, <span class="n">1039_i16</span>, <span class="n">332_i16</span>}, {<span class="n">12648080533535911531_u64</span>, <span class="n">1066_i16</span>, <span class="n">340_i16</span>}].map <span class="k">do</span> <span class="o">|</span>t<span class="o">|</span>
  <span class="t">Power</span>.<span class="k">new</span>(t[<span class="n">0</span>], t[<span class="n">1</span>], t[<span class="n">2</span>])
<span class="k">end</span></code>
      </dt>
      
    
  </dl>





  <h2>Class Method Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#get_cached_power_for_binary_exponent%28exp%29%3ATuple%28DiyFP%2CInt32%29-class-method" class="signature"><strong>.get_cached_power_for_binary_exponent</strong>(exp) : Tuple(DiyFP, Int32)</a>
        
          <div class="summary"><p>Returns a cached power-of-ten with a binary exponent in the range around <em>exp</em> (boundaries included).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#largest_pow10%28n%2Cn_bits%29-class-method" class="signature"><strong>.largest_pow10</strong>(n, n_bits)</a>
        
      </li>
    
  </ul>







<div class="methods-inherited">
  
</div>




  <h2>Class Method Detail</h2>
  
    <div class="entry-detail" id="get_cached_power_for_binary_exponent(exp):Tuple(DiyFP,Int32)-class-method">
      <a class="dashingAutolink" name="autolink-1968"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20self.get_cached_power_for_binary_exponent%28exp%29%20%3A%20Tuple%28DiyFP%2C%20Int32%29"></a><div class="signature">
        
        def self.<strong>get_cached_power_for_binary_exponent</strong>(exp) : <a href="../../Tuple.html">Tuple</a>(<a href="../../Float/Printer/DiyFP.html">DiyFP</a>, <a href="../../Int32.html">Int32</a>)

        
      </div>
      
        <div class="doc"><p>Returns a cached power-of-ten with a binary exponent in the range
around <em>exp</em> (boundaries included).</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/3c3d3e2b830e81de0aa39b7af0cd6f82f759c410/src/float/printer/cached_powers.cr#L156" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="largest_pow10(n,n_bits)-class-method">
      <a class="dashingAutolink" name="autolink-1969"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20self.largest_pow10%28n%2C%20n_bits%29"></a><div class="signature">
        
        def self.<strong>largest_pow10</strong>(n, n_bits)

        
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/3c3d3e2b830e81de0aa39b7af0cd6f82f759c410/src/float/printer/cached_powers.cr#L143" target="_blank">View source</a>]
        
      </div>
    </div>
  






</div>



</body></html>