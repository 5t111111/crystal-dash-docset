<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta charset="utf-8"/>
  <meta id="repository-name" content="github.com/crystal-lang/crystal"/>
  <link href="css/style.css" rel="stylesheet" type="text/css"/>
  
  <a class="dashingAutolink" name="autolink-6539"></a><a class="dashAnchor" name="//apple_ref/cpp/Class/Struct%20-%20github.com%2Fcrystal-lang%2Fcrystal"></a><title>Struct - github.com/crystal-lang/crystal</title>
</head>
<body>



<div id="main-content">
<h1 class="type-name">

  <span class="kind">abstract struct</span> Struct

</h1>


  <ul class="superclass-hierarchy">
<li class="superclass"><a href="Struct.html">Struct</a></li>
<li class="superclass"><a href="Value.html">Value</a></li>
<li class="superclass"><a href="Object.html">Object</a></li>
</ul>




  <h2>Overview</h2>

  <p><code><a href="Struct.html">Struct</a></code> is the base type of structs you create in your program.
It is set as a struct&#39;s superstruct when you don&#39;t specify one:</p>

<pre><code><span class="k">struct</span> <span class="t">Foo</span> <span class="c"># &lt; Struct</span>
<span class="k">end</span></code></pre>

<p>Structs inherit from <code><a href="Value.html">Value</a></code> so they are allocated on the stack and passed
by value. For this reason you should prefer using structs for immutable
data types and/or stateless wrappers of other types.</p>

<p>Mutable structs are still allowed, but code involving them must remember
that passing a struct to a method actually passes a copy to it, so the
method should return the modified struct:</p>

<pre><code><span class="k">struct</span> <span class="t">Mutable</span>
  property value

  <span class="k">def</span> <span class="m">initialize</span>(@value : <span class="t">Int32</span>)
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">def</span> <span class="m">change_bad</span>(mutable)
  mutable.value <span class="o">=</span> <span class="n">2</span>
<span class="k">end</span>

<span class="k">def</span> <span class="m">change_good</span>(mutable)
  mutable.value <span class="o">=</span> <span class="n">2</span>
  mutable
<span class="k">end</span>

mut <span class="o">=</span> <span class="t">Mutable</span>.<span class="k">new</span> <span class="n">1</span>
change_bad(mut)
mut.value <span class="c"># =&gt; 1</span>

mut <span class="o">=</span> change_good(mut)
mut.value <span class="c"># =&gt; 2</span></code></pre>

<p>The standard library provides a useful <code><a href="toplevel.html#record%28name%2C%2Aproperties%29-macro">record</a></code> macro that allows you to
create immutable structs with some fields, similar to a <code><a href="Tuple.html">Tuple</a></code> but using
names instead of indices.</p>









  <h2>Direct Known Subclasses</h2>
  <ul class="other-types-list">
  
    <li class="other-type"><a href="Atomic.html">Atomic(T)</a></li>
  
    <li class="other-type"><a href="BitArray.html">BitArray</a></li>
  
    <li class="other-type"><a href="CallStack/RepeatedFrame.html">CallStack::RepeatedFrame</a></li>
  
    <li class="other-type"><a href="Channel/ReceiveAction.html">Channel::ReceiveAction(C)</a></li>
  
    <li class="other-type"><a href="Channel/SendAction.html">Channel::SendAction(C, T)</a></li>
  
    <li class="other-type"><a href="Char/Reader.html">Char::Reader</a></li>
  
    <li class="other-type"><a href="Colorize/Object.html">Colorize::Object(T)</a></li>
  
    <li class="other-type"><a href="Complex.html">Complex</a></li>
  
    <li class="other-type"><a href="CSV/Builder/Row.html">CSV::Builder::Row</a></li>
  
    <li class="other-type"><a href="CSV/Row.html">CSV::Row</a></li>
  
    <li class="other-type"><a href="CSV/Token.html">CSV::Token</a></li>
  
    <li class="other-type"><a href="Debug/DWARF/Abbrev.html">Debug::DWARF::Abbrev</a></li>
  
    <li class="other-type"><a href="Debug/DWARF/Abbrev/Attribute.html">Debug::DWARF::Abbrev::Attribute</a></li>
  
    <li class="other-type"><a href="Debug/DWARF/Info.html">Debug::DWARF::Info</a></li>
  
    <li class="other-type"><a href="Debug/DWARF/LineNumbers.html">Debug::DWARF::LineNumbers</a></li>
  
    <li class="other-type"><a href="Debug/DWARF/LineNumbers/Register.html">Debug::DWARF::LineNumbers::Register</a></li>
  
    <li class="other-type"><a href="Debug/DWARF/LineNumbers/Row.html">Debug::DWARF::LineNumbers::Row</a></li>
  
    <li class="other-type"><a href="Debug/DWARF/LineNumbers/Sequence.html">Debug::DWARF::LineNumbers::Sequence</a></li>
  
    <li class="other-type"><a href="Debug/DWARF/Strings.html">Debug::DWARF::Strings</a></li>
  
    <li class="other-type"><a href="Debug/ELF.html">Debug::ELF</a></li>
  
    <li class="other-type"><a href="Debug/ELF/Ident.html">Debug::ELF::Ident</a></li>
  
    <li class="other-type"><a href="Debug/ELF/SectionHeader.html">Debug::ELF::SectionHeader</a></li>
  
    <li class="other-type"><a href="Enumerable/Chunk/Alone.html">Enumerable::Chunk::Alone</a></li>
  
    <li class="other-type"><a href="Enumerable/Chunk/Drop.html">Enumerable::Chunk::Drop</a></li>
  
    <li class="other-type"><a href="Event/DnsBase.html">Event::DnsBase</a></li>
  
    <li class="other-type"><a href="Event/DnsBase/GetAddrInfoRequest.html">Event::DnsBase::GetAddrInfoRequest</a></li>
  
    <li class="other-type"><a href="File/Stat.html">File::Stat</a></li>
  
    <li class="other-type"><a href="Float/Printer/CachedPowers/Power.html">Float::Printer::CachedPowers::Power</a></li>
  
    <li class="other-type"><a href="Float/Printer/DiyFP.html">Float::Printer::DiyFP</a></li>
  
    <li class="other-type"><a href="GC/Stats.html">GC::Stats</a></li>
  
    <li class="other-type"><a href="HTTP/ComputedContentTypeHeader.html">HTTP::ComputedContentTypeHeader</a></li>
  
    <li class="other-type"><a href="HTTP/FormData/FileMetadata.html">HTTP::FormData::FileMetadata</a></li>
  
    <li class="other-type"><a href="HTTP/FormData/Part.html">HTTP::FormData::Part</a></li>
  
    <li class="other-type"><a href="HTTP/Headers.html">HTTP::Headers</a></li>
  
    <li class="other-type"><a href="HTTP/Params.html">HTTP::Params</a></li>
  
    <li class="other-type"><a href="HTTP/StaticFileHandler/DirectoryListing.html">HTTP::StaticFileHandler::DirectoryListing</a></li>
  
    <li class="other-type"><a href="HTTP/WebSocket/Protocol/PacketInfo.html">HTTP::WebSocket::Protocol::PacketInfo</a></li>
  
    <li class="other-type"><a href="IO/EncodingOptions.html">IO::EncodingOptions</a></li>
  
    <li class="other-type"><a href="JSON/Any.html">JSON::Any</a></li>
  
    <li class="other-type"><a href="JSON/Builder/ArrayState.html">JSON::Builder::ArrayState</a></li>
  
    <li class="other-type"><a href="JSON/Builder/DocumentEndState.html">JSON::Builder::DocumentEndState</a></li>
  
    <li class="other-type"><a href="JSON/Builder/DocumentStartState.html">JSON::Builder::DocumentStartState</a></li>
  
    <li class="other-type"><a href="JSON/Builder/ObjectState.html">JSON::Builder::ObjectState</a></li>
  
    <li class="other-type"><a href="JSON/Builder/StartState.html">JSON::Builder::StartState</a></li>
  
    <li class="other-type"><a href="LLVM/ABI/ArgType.html">LLVM::ABI::ArgType</a></li>
  
    <li class="other-type"><a href="LLVM/BasicBlock.html">LLVM::BasicBlock</a></li>
  
    <li class="other-type"><a href="LLVM/BasicBlockCollection.html">LLVM::BasicBlockCollection</a></li>
  
    <li class="other-type"><a href="LLVM/DIBuilder.html">LLVM::DIBuilder</a></li>
  
    <li class="other-type"><a href="LLVM/Function.html">LLVM::Function</a></li>
  
    <li class="other-type"><a href="LLVM/FunctionCollection.html">LLVM::FunctionCollection</a></li>
  
    <li class="other-type"><a href="LLVM/FunctionPassManager/Runner.html">LLVM::FunctionPassManager::Runner</a></li>
  
    <li class="other-type"><a href="LLVM/GlobalCollection.html">LLVM::GlobalCollection</a></li>
  
    <li class="other-type"><a href="LLVM/InstructionCollection.html">LLVM::InstructionCollection</a></li>
  
    <li class="other-type"><a href="LLVM/OperandBundleDef.html">LLVM::OperandBundleDef</a></li>
  
    <li class="other-type"><a href="LLVM/ParameterCollection.html">LLVM::ParameterCollection</a></li>
  
    <li class="other-type"><a href="LLVM/PassRegistry.html">LLVM::PassRegistry</a></li>
  
    <li class="other-type"><a href="LLVM/PhiTable.html">LLVM::PhiTable</a></li>
  
    <li class="other-type"><a href="LLVM/Target.html">LLVM::Target</a></li>
  
    <li class="other-type"><a href="LLVM/TargetData.html">LLVM::TargetData</a></li>
  
    <li class="other-type"><a href="LLVM/Type.html">LLVM::Type</a></li>
  
    <li class="other-type"><a href="LLVM/Value.html">LLVM::Value</a></li>
  
    <li class="other-type"><a href="Markdown/Parser/PrefixHeader.html">Markdown::Parser::PrefixHeader</a></li>
  
    <li class="other-type"><a href="Markdown/Parser/UnorderedList.html">Markdown::Parser::UnorderedList</a></li>
  
    <li class="other-type"><a href="Pointer/Appender.html">Pointer::Appender(T)</a></li>
  
    <li class="other-type"><a href="Process/Tms.html">Process::Tms</a></li>
  
    <li class="other-type"><a href="Range.html">Range(B, E)</a></li>
  
    <li class="other-type"><a href="Reflect.html">Reflect(X)</a></li>
  
    <li class="other-type"><a href="Regex/MatchData.html">Regex::MatchData</a></li>
  
    <li class="other-type"><a href="Set.html">Set(T)</a></li>
  
    <li class="other-type"><a href="Slice.html">Slice(T)</a></li>
  
    <li class="other-type"><a href="Socket/Address.html">Socket::Address</a></li>
  
    <li class="other-type"><a href="Socket/Addrinfo.html">Socket::Addrinfo</a></li>
  
    <li class="other-type"><a href="String/Formatter/Flags.html">String::Formatter::Flags</a></li>
  
    <li class="other-type"><a href="Time.html">Time</a></li>
  
    <li class="other-type"><a href="Time/Format.html">Time::Format</a></li>
  
    <li class="other-type"><a href="Time/MonthSpan.html">Time::MonthSpan</a></li>
  
    <li class="other-type"><a href="Time/Span.html">Time::Span</a></li>
  
    <li class="other-type"><a href="UUID.html">UUID</a></li>
  
    <li class="other-type"><a href="XML/Attributes.html">XML::Attributes</a></li>
  
    <li class="other-type"><a href="XML/Builder.html">XML::Builder</a></li>
  
    <li class="other-type"><a href="XML/Namespace.html">XML::Namespace</a></li>
  
    <li class="other-type"><a href="XML/Node.html">XML::Node</a></li>
  
    <li class="other-type"><a href="XML/NodeSet.html">XML::NodeSet</a></li>
  
    <li class="other-type"><a href="XML/Reader.html">XML::Reader</a></li>
  
    <li class="other-type"><a href="XML/XPathContext.html">XML::XPathContext</a></li>
  
    <li class="other-type"><a href="YAML/Any.html">YAML::Any</a></li>
  
  </ul>






  <h2>Defined in:</h2>
  
    
      <a href="https://github.com/crystal-lang/crystal/blob/4f9ed8d03208dd0db33993c5a6fa6753bc1cf91e/src/struct.cr#L45" target="_blank">struct.cr</a>
    
    <br/>
  









  <h2>Instance Method Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#%3D%3D%28other%29%3ABool-instance-method" class="signature"><strong>#==</strong>(other) : Bool</a>
        
          <div class="summary"><p>Returns <code>true</code> if this struct is equal to <em>other</em>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#hash%28hasher%29-instance-method" class="signature"><strong>#hash</strong>(hasher)</a>
        
          <div class="summary"><p>See <code><a href="Object.html#hash%28hasher%29-instance-method">Object#hash(hasher)</a></code></p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#inspect%28io%3AIO%29%3ANil-instance-method" class="signature"><strong>#inspect</strong>(io : IO) : Nil</a>
        
          <div class="summary"><p>Appends this struct&#39;s name and instance variables names and values to the given IO.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#pretty_print%28pp%29%3ANil-instance-method" class="signature"><strong>#pretty_print</strong>(pp) : Nil</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#to_s%28io%29-instance-method" class="signature"><strong>#to_s</strong>(io)</a>
        
          <div class="summary"><p>Same as <code><a href="Struct.html#inspect%28io%3AIO%29%3ANil-instance-method">#inspect(io)</a></code>.</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    

  <h3>Instance methods inherited from struct <code><a href="Value.html">Value</a></code>
</h3>
  
  
    <a href="Value.html#%3D%3D%28other%29-instance-method" class="tooltip">
      <span>==(other)</span>
    ==</a>, 
    
  
    <a href="Value.html#dup-instance-method" class="tooltip">
      <span>dup</span>
    dup</a>
    
  


    


    


  
    

  <h3>Instance methods inherited from class <code><a href="Object.html">Object</a></code>
</h3>
  
  
    <a href="Object.html#%21%3D%28other%29-instance-method" class="tooltip">
      <span>!=(other)</span>
    !=</a>, 
    
  
    <a href="Object.html#%21~%28other%29-instance-method" class="tooltip">
      <span>!~(other)</span>
    !~</a>, 
    
  
    <a href="Object.html#%3D%3D%28other%29-instance-method" class="tooltip">
      <span>==(other)</span>
    ==</a>, 
    
  
    <a href="Object.html#%3D%3D%3D%28other%3AJSON%3A%3AAny%29-instance-method" class="tooltip">
      <span>===(other : JSON::Any)<br/>===(other : YAML::Any)<br/>===(other)</span>
    ===</a>, 
    
  
    <a href="Object.html#%3D~%28other%29-instance-method" class="tooltip">
      <span>=~(other)</span>
    =~</a>, 
    
  
    <a href="Object.html#class-instance-method" class="tooltip">
      <span>class</span>
    class</a>, 
    
  
    <a href="Object.html#dup-instance-method" class="tooltip">
      <span>dup</span>
    dup</a>, 
    
  
    <a href="Object.html#hash%28hasher%29-instance-method" class="tooltip">
      <span>hash(hasher)<br/>hash</span>
    hash</a>, 
    
  
    <a href="Object.html#inspect%28io%3AIO%29-instance-method" class="tooltip">
      <span>inspect(io : IO)<br/>inspect</span>
    inspect</a>, 
    
  
    <a href="Object.html#itself-instance-method" class="tooltip">
      <span>itself</span>
    itself</a>, 
    
  
    <a href="Object.html#not_nil%21-instance-method" class="tooltip">
      <span>not_nil!</span>
    not_nil!</a>, 
    
  
    <a href="Object.html#pretty_inspect%28width%3D79%2Cnewline%3D%26quot%3B%5Cn%26quot%3B%2Cindent%3D0%29%3AString-instance-method" class="tooltip">
      <span>pretty_inspect(width = <span class="n">79</span>, newline = <span class="s">&#34;\n&#34;</span>, indent = <span class="n">0</span>) : String</span>
    pretty_inspect</a>, 
    
  
    <a href="Object.html#pretty_print%28pp%3APrettyPrint%29%3ANil-instance-method" class="tooltip">
      <span>pretty_print(pp : PrettyPrint) : Nil</span>
    pretty_print</a>, 
    
  
    <a href="Object.html#tap%28%26block%29-instance-method" class="tooltip">
      <span>tap(&amp;block)</span>
    tap</a>, 
    
  
    <a href="Object.html#to_json%28io%3AIO%29-instance-method" class="tooltip">
      <span>to_json(io : IO)<br/>to_json</span>
    to_json</a>, 
    
  
    <a href="Object.html#to_pretty_json%28indent%3AString%3D%26quot%3B%26quot%3B%29-instance-method" class="tooltip">
      <span>to_pretty_json(indent : String = <span class="s">&#34;  &#34;</span>)<br/>to_pretty_json(io : IO, indent : String = <span class="s">&#34;  &#34;</span>)</span>
    to_pretty_json</a>, 
    
  
    <a href="Object.html#to_s-instance-method" class="tooltip">
      <span>to_s<br/>to_s(io : IO)</span>
    to_s</a>, 
    
  
    <a href="Object.html#to_yaml%28io%3AIO%29-instance-method" class="tooltip">
      <span>to_yaml(io : IO)<br/>to_yaml</span>
    to_yaml</a>, 
    
  
    <a href="Object.html#try%28%26block%29-instance-method" class="tooltip">
      <span>try(&amp;block)</span>
    try</a>, 
    
  
    <a href="Object.html#unsafe_as%28type%3AT.class%29forallT-instance-method" class="tooltip">
      <span>unsafe_as(type : T.class) forall T</span>
    unsafe_as</a>
    
  


    

  <h3>Constructor methods inherited from class <code><a href="Object.html">Object</a></code>
</h3>
  
  
    <a href="Object.html#from_json%28string_or_io%2Croot%3AString%29%3Aself-class-method" class="tooltip">
      <span>from_json(string_or_io, root : String) : self<br/>from_json(string_or_io) : self</span>
    from_json</a>, 
    
  
    <a href="Object.html#from_yaml%28string_or_io%3AString%7CIO%29%3Aself-class-method" class="tooltip">
      <span>from_yaml(string_or_io : String | IO) : self</span>
    from_yaml</a>
    
  


    


  
</div>






  <h2>Instance Method Detail</h2>
  
    <div class="entry-detail" id="==(other):Bool-instance-method">
      <a class="dashingAutolink" name="autolink-6534"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20%3D%3D%28other%29%20%3A%20Bool"></a><div class="signature">
        
        def <strong>==</strong>(other) : <a href="Bool.html">Bool</a>

        
      </div>
      
        <div class="doc">
<p>Returns <code>true</code> if this struct is equal to <em>other</em>.</p>

<p>Both structs&#39;s instance vars are compared to each other. Thus, two
structs are considered equal if each of their instance variables are
equal. Subclasses should override this method to provide specific
equality semantics.</p>

<pre><code><span class="k">struct</span> <span class="t">Point</span>
  <span class="k">def</span> <span class="m">initialize</span>(@x : <span class="t">Int32</span>, @y : <span class="t">Int32</span>)
  <span class="k">end</span>
<span class="k">end</span>

p1 <span class="o">=</span> <span class="t">Point</span>.<span class="k">new</span> <span class="n">1</span>, <span class="n">2</span>
p2 <span class="o">=</span> <span class="t">Point</span>.<span class="k">new</span> <span class="n">1</span>, <span class="n">2</span>
p3 <span class="o">=</span> <span class="t">Point</span>.<span class="k">new</span> <span class="n">3</span>, <span class="n">4</span>

p1 <span class="o">==</span> p2 <span class="c"># =&gt; true</span>
p1 <span class="o">==</span> p3 <span class="c"># =&gt; false</span></code></pre>
</div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/4f9ed8d03208dd0db33993c5a6fa6753bc1cf91e/src/struct.cr#L66" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="hash(hasher)-instance-method">
      <a class="dashingAutolink" name="autolink-6535"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20hash%28hasher%29"></a><div class="signature">
        
        def <strong>hash</strong>(hasher)

        
      </div>
      
        <div class="doc"><p>See <code><a href="Object.html#hash%28hasher%29-instance-method">Object#hash(hasher)</a></code></p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/4f9ed8d03208dd0db33993c5a6fa6753bc1cf91e/src/struct.cr#L79" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="inspect(io:IO):Nil-instance-method">
      <a class="dashingAutolink" name="autolink-6536"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20inspect%28io%20%3A%20IO%29%20%3A%20Nil"></a><div class="signature">
        
        def <strong>inspect</strong>(io : <a href="IO.html">IO</a>) : <a href="Nil.html">Nil</a>

        
      </div>
      
        <div class="doc">
<p>Appends this struct&#39;s name and instance variables names and values
to the given IO.</p>

<pre><code><span class="k">struct</span> <span class="t">Point</span>
  <span class="k">def</span> <span class="m">initialize</span>(@x : <span class="t">Int32</span>, @y : <span class="t">Int32</span>)
  <span class="k">end</span>
<span class="k">end</span>

p1 <span class="o">=</span> <span class="t">Point</span>.<span class="k">new</span> <span class="n">1</span>, <span class="n">2</span>
p1.to_s    <span class="c"># &#34;Point(@x=1, @y=2)&#34;</span>
p1.inspect <span class="c"># &#34;Point(@x=1, @y=2)&#34;</span></code></pre>
</div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/4f9ed8d03208dd0db33993c5a6fa6753bc1cf91e/src/struct.cr#L99" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="pretty_print(pp):Nil-instance-method">
      <a class="dashingAutolink" name="autolink-6537"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20pretty_print%28pp%29%20%3A%20Nil"></a><div class="signature">
        
        def <strong>pretty_print</strong>(pp) : <a href="Nil.html">Nil</a>

        
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/4f9ed8d03208dd0db33993c5a6fa6753bc1cf91e/src/struct.cr#L112" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="to_s(io)-instance-method">
      <a class="dashingAutolink" name="autolink-6538"></a><a class="dashAnchor" name="//apple_ref/cpp/Method/def%20to_s%28io%29"></a><div class="signature">
        
        def <strong>to_s</strong>(io)

        
      </div>
      
        <div class="doc"><p>Same as <code><a href="Struct.html#inspect%28io%3AIO%29%3ANil-instance-method">#inspect(io)</a></code>.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-lang/crystal/blob/4f9ed8d03208dd0db33993c5a6fa6753bc1cf91e/src/struct.cr#L135" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>



</body></html>